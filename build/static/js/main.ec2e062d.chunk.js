(this["webpackJsonptodo-project"]=this["webpackJsonptodo-project"]||[]).push([[0],{177:function(e,t,a){e.exports=a(320)},182:function(e,t,a){},320:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),l=(a(182),a(68),a(41)),u=a.n(l),i=function(e){e.title;return r.a.createElement(r.a.Fragment,null)};i.propTypes={title:u.a.string.isRequired};var d=i,s=a(24),m=a(79),p=a(55),b=a(91),f=a(325),E=a(322),v=a(323),g=a(324),h=a(327),y=a(78),O=(a(128),a(34)),k=a.n(O),j=a(64),T=a(80),x=a.n(T),w=a(328),I=function(e,t){return function(){var a=Object(j.a)(k.a.mark((function a(n){var r,c;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},a.prev=1,a.next=4,x.a.post("/edit-todo//".concat(e),t,r);case 4:c=a.sent,n({type:"GET_TODO",payload:c.data}),w.b.success("Updated"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),w.b.error("Server Error");case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()},C=a(53),S=b.a.Option,_=Object(C.b)(null,{addTodo:function(e){return function(){var t=Object(j.a)(k.a.mark((function t(a){var n,r;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,x.a.post("/add-todo",e,n);case 4:r=t.sent,a({type:"GET_TODO",payload:r.data}),w.b.success("Added"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),w.b.error("Server Error");case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.addTodo,a=Object(n.useState)({buckets:JSON.parse(localStorage.getItem("buckets"))||["Important"],newBucket:""}),c=Object(p.a)(a,2),o=c[0],l=c[1],u=Object(n.useState)({bucket:"Important",title:"",completed:!1}),i=Object(p.a)(u,2),d=i[0],O=i[1],k=o.buckets,j=o.newBucket,T=d.bucket,x=d.title,w=(d.completed,Object(n.useState)(!1)),I=Object(p.a)(w,2),C=I[0],_=I[1],B=function(e){e.preventDefault(),(""===x?(_(!0),0):(_(!1),1))&&(t(d),R())},R=function(){O({bucket:"Important",title:""})};return r.a.createElement("div",null,r.a.createElement(f.a,{layout:"horizontal",className:"todo-form",style:{marginTop:20,marginBottom:20,padding:5}},r.a.createElement(E.a,{gutter:20},r.a.createElement(v.a,{xs:24,sm:24,md:7,lg:5,xl:4},r.a.createElement(f.a.Item,null,r.a.createElement(b.a,{value:T,onChange:function(e){!function(e){O(Object(s.a)(Object(s.a)({},d),{},{bucket:e}))}(e)},placeholder:"Select a Category",dropdownRender:function(e){return r.a.createElement("div",null,e,r.a.createElement(g.a,{style:{margin:"4px 0"}}),r.a.createElement("div",{style:{display:"flex",flexWrap:"nowrap",padding:8,height:48}},r.a.createElement(h.a,{style:{flex:"auto"},value:j,placeholder:"Grocery",onChange:function(e){!function(e){l({buckets:Object(m.a)(k),newBucket:e.target.value})}(e)}}),r.a.createElement("a",{style:{flex:"none",padding:"8px",display:"block",cursor:"pointer"},onClick:function(){!function(){var e=[].concat(Object(m.a)(k),[j||"New item ".concat(k.length++)]);l({buckets:e,newBucket:""}),localStorage.setItem("buckets",JSON.stringify(e))}()}},"Add Category")))}},k.map((function(e){return r.a.createElement(S,{key:e,value:e},e)}))))),r.a.createElement(v.a,{xs:24,sm:24,md:10,lg:14,xl:16},r.a.createElement(f.a.Item,{name:"title"},r.a.createElement(h.a,{placeholder:"What needs to be done?",type:"text",value:x,onChange:function(e){var t;t=e.target.value,O(Object(s.a)(Object(s.a)({},d),{},{title:t}))}}),r.a.createElement("span",{className:"".concat(C?"error":"no-error")},"*This field is required"))),r.a.createElement(v.a,{xs:24,sm:24,md:7,lg:5,xl:4},r.a.createElement(y.a,{type:"primary",htmlType:"submit",onClick:function(e){return B(e)},block:!0},"Remember this")))))})),B=a(329),R=a(164),N=a(73),D=b.a.Option;I.propTypes={updateTodo:u.a.func.isRequired,getTodoById:u.a.func.isRequired,clearTodoById:u.a.func.isRequired,todoReducer:u.a.object.isRequired};var G=Object(C.b)((function(e){return{todoReducer:e.todoReducer}}),{updateTodo:I,getTodoById:function(e){return function(){var t=Object(j.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.get("/get-todo/".concat(e));case 3:n=t.sent,a({type:"GET_TODO_BY_ID",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),w.b.error("Server Error");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},clearTodoById:function(){return function(){var e=Object(j.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_TODO_BY_ID",payload:""});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.updateTodo,a=e.getTodoById,c=e.clearTodoById,o=e.match,l=e.todoReducer,u=l.todoItem,i=l.editmode,d=l.loading,O=e.history,k=Object(n.useState)({buckets:JSON.parse(localStorage.getItem("buckets"))||["Important"],newBucket:""}),j=Object(p.a)(k,2),T=j[0],x=j[1],w=Object(n.useState)({bucket:"",title:"",completed:!1}),I=Object(p.a)(w,2),C=I[0],S=I[1];Object(n.useEffect)((function(){void 0===u[0]&&a(o.params.id),S({bucket:void 0!==u[0]?u[0].bucket:"",title:void 0!==u[0]?u[0].title:"",completed:void 0!==u[0]?u[0].completed:""})}),[i]);var _=T.buckets,G=T.newBucket,A=C.bucket,q=C.title,L=(C.completed,Object(n.useState)(!1)),W=Object(p.a)(L,2),J=W[0],U=W[1],Y=function(e){e.preventDefault(),(""===q?(U(!0),0):(U(!1),1))&&(t(o.params.id,C),c(),O.push("/"))};return r.a.createElement("div",null,d?r.a.createElement(B.b,null,r.a.createElement(R.a,null)):r.a.createElement(f.a,{layout:"horizontal",className:"todo-form",style:{marginTop:20,marginBottom:20,padding:5}},r.a.createElement(E.a,{gutter:20},r.a.createElement(v.a,{xs:24,sm:24,md:7,lg:5,xl:4},r.a.createElement(f.a.Item,null,r.a.createElement(b.a,{value:A,onChange:function(e){!function(e){S(Object(s.a)(Object(s.a)({},C),{},{bucket:e}))}(e)},placeholder:"Select a Category",dropdownRender:function(e){return r.a.createElement("div",null,e,r.a.createElement(g.a,{style:{margin:"4px 0"}}),r.a.createElement("div",{style:{display:"flex",flexWrap:"nowrap",padding:8,height:48}},r.a.createElement(h.a,{style:{flex:"auto"},value:G,placeholder:"Grocery",onChange:function(e){!function(e){x({buckets:Object(m.a)(_),newBucket:e.target.value})}(e)}}),r.a.createElement("a",{style:{flex:"none",padding:"8px",display:"block",cursor:"pointer"},onClick:function(){!function(){var e=[].concat(Object(m.a)(_),[G||"New item ".concat(_.length++)]);x({buckets:e,newBucket:""}),localStorage.setItem("buckets",JSON.stringify(e))}()}},"Add Category")))}},_.map((function(e){return r.a.createElement(D,{key:e,value:e},e)}))))),r.a.createElement(v.a,{xs:24,sm:24,md:10,lg:14,xl:16},r.a.createElement(f.a.Item,{initialValue:q,rules:[{required:!0,message:"This field is required"}]},r.a.createElement(h.a,{placeholder:"What needs to be done?",type:"text",value:q,onChange:function(e){var t;t=e.target.value,S(Object(s.a)(Object(s.a)({},C),{},{title:t}))}}),r.a.createElement("span",{className:"".concat(J?"error":"no-error")},"*This field is required"))),r.a.createElement(v.a,{xs:24,sm:24,md:4,lg:3,xl:2},r.a.createElement(y.a,{type:"primary",htmlType:"submit",onClick:function(e){return Y(e)},block:!0},"Update")),r.a.createElement(v.a,{xs:24,sm:24,md:3,lg:3,xl:2},r.a.createElement(N.b,{to:"/",onClick:c},"Cancel")))))})),A=a(326),q=a(174),L=a(330),W=a(331),J=a(332),U=a(333),Y=a(334),M=a(335),$=Object(C.b)(null,{removeTodo:function(e){return function(){var t=Object(j.a)(k.a.mark((function t(a){var n;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.delete("/delete-todo/".concat(e));case 3:n=t.sent,a({type:"GET_TODO",payload:n.data}),w.b.warn("Removed"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),w.b.error("Server Error");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},updateTodo:I,setLoadingTrue:function(){return function(){var e=Object(j.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"SET_LOADING_TRUE"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.id,a=e.bucket,c=e.title,o=e.completed,l=e.removeTodo,u=e.updateTodo,i=e.setLoadingTrue,d=Object(n.useState)(o),s=Object(p.a)(d,2),m=s[0],b=s[1];return r.a.createElement(A.b.Item,{actions:[r.a.createElement(q.a,{title:m?"Mark as uncompleted":"Mark as completed"},r.a.createElement(L.a,{checkedChildren:r.a.createElement(U.a,null),unCheckedChildren:r.a.createElement(Y.a,null),onChange:function(){return b(!m),void u(t,{bucket:a,title:c,completed:!o})},defaultChecked:m})),r.a.createElement(W.a,{title:"Are you sure you want to delete?",onConfirm:function(){l(t)}},r.a.createElement(y.a,{className:"remove-todo-button",type:"primary",shape:"circle",danger:!0},"X")),r.a.createElement(y.a,{className:"remove-todo-button",type:"primary",shape:"circle"},r.a.createElement(N.b,{to:"/edit/".concat(t),onClick:function(){i()}},r.a.createElement(M.a,null)))]},r.a.createElement("div",{className:"hide-sm"},r.a.createElement(J.a,{className:"todo-tag-bucket"},a)),r.a.createElement("div",{className:"todo-item"},r.a.createElement(J.a,{color:m?"cyan":"red",className:"".concat(o?"todo-tag todo-tag-completed ":"todo-tag")},c)))})),z=Object(C.b)((function(e){return{todoReducer:e.todoReducer}}),{getTodo:function(){return function(){var e=Object(j.a)(k.a.mark((function e(t){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get("/get-todo");case 3:a=e.sent,t({type:"GET_TODO",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),w.b.error("Server Error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.getTodo,a=e.todoReducer,c=a.todoList,o=a.editmode,l=a.loading;return Object(n.useEffect)((function(){0===c.length&&t()}),[t]),r.a.createElement("div",{className:"".concat(o?"focus-out":"")},r.a.createElement(A.b,{style:{backgroundColor:"white",padding:5,margin:5}},0!==c.length?c.map((function(e){return r.a.createElement($,{key:e._id.$oid,id:e._id.$oid,title:e.title,completed:e.completed,bucket:e.bucket})})):l?r.a.createElement(B.b,null,r.a.createElement(R.a,null)):r.a.createElement("h4",null,"Nothing to do!")))})),F=a(170),V=a(61),X=a(171),H={todoList:[],todoItem:{},loading:!0,editmode:!1},K=Object(V.combineReducers)({todoReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_TODO":return Object(s.a)(Object(s.a)({},e),{},{todoList:n,loading:!1,editmode:!1});case"GET_TODO_BY_ID":return Object(s.a)(Object(s.a)({},e),{},{todoItem:n,loading:!1,editmode:!0});case"CLEAR_TODO_BY_ID":return Object(s.a)(Object(s.a)({},e),{},{todoItem:{},loading:!0,editmode:!1});case"SET_LOADING_TRUE":return Object(s.a)(Object(s.a)({},e),{},{loading:!0});default:return Object(s.a)({},e)}}}),P=[F.a],Q=Object(V.createStore)(K,{},Object(X.composeWithDevTools)(V.applyMiddleware.apply(void 0,P))),Z=a(20);var ee=function(){return r.a.createElement(C.a,{store:Q},r.a.createElement("div",{className:"App"},r.a.createElement(d,{title:"TODO Application"}),r.a.createElement(N.a,null,r.a.createElement(Z.a,{exact:!0,path:"/",component:_}),r.a.createElement(Z.a,{exact:!0,path:"/edit/:id",component:G}),r.a.createElement(z,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},68:function(e,t,a){}},[[177,1,2]]]);
//# sourceMappingURL=main.ec2e062d.chunk.js.map