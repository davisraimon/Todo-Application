(this["webpackJsonptodo-project"]=this["webpackJsonptodo-project"]||[]).push([[0],{177:function(e,t,a){e.exports=a(320)},182:function(e,t,a){},320:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),l=(a(182),a(68),function(e){var t=e.title;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,t))}),u=a(24),i=a(79),d=a(55),s=a(91),m=a(325),p=a(322),b=a(323),f=a(324),E=a(327),v=a(78),g=(a(128),a(34)),O=a.n(g),y=a(64),h=a(80),k=a.n(h),j=a(328),T=function(e,t){return function(){var a=Object(y.a)(O.a.mark((function a(n){var r,c;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},a.prev=1,a.next=4,k.a.post("/edit-todo//".concat(e),t,r);case 4:c=a.sent,n({type:"GET_TODO",payload:c.data}),j.b.success("Updated"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),j.b.error("Server Error");case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()},x=a(53),w=s.a.Option,I=Object(x.b)(null,{addTodo:function(e){return function(){var t=Object(y.a)(O.a.mark((function t(a){var n,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,k.a.post("/add-todo",e,n);case 4:r=t.sent,a({type:"GET_TODO",payload:r.data}),j.b.success("Added"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),j.b.error("Server Error");case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.addTodo,a=Object(n.useState)({buckets:JSON.parse(localStorage.getItem("buckets"))||["Important"],newBucket:""}),c=Object(d.a)(a,2),o=c[0],l=c[1],g=Object(n.useState)({bucket:"Important",title:"",completed:!1}),O=Object(d.a)(g,2),y=O[0],h=O[1],k=o.buckets,j=o.newBucket,T=y.bucket,x=y.title,I=(y.completed,Object(n.useState)(!1)),C=Object(d.a)(I,2),S=C[0],_=C[1],N=function(e){e.preventDefault(),(""===x?(_(!0),0):(_(!1),1))&&(t(y),B())},B=function(){h({bucket:"Important",title:""})};return r.a.createElement("div",null,r.a.createElement(m.a,{layout:"horizontal",className:"todo-form",style:{marginTop:20,marginBottom:20,padding:5}},r.a.createElement(p.a,{gutter:20},r.a.createElement(b.a,{xs:24,sm:24,md:7,lg:5,xl:4},r.a.createElement(m.a.Item,null,r.a.createElement(s.a,{value:T,onChange:function(e){!function(e){h(Object(u.a)(Object(u.a)({},y),{},{bucket:e}))}(e)},placeholder:"Select a Category",dropdownRender:function(e){return r.a.createElement("div",null,e,r.a.createElement(f.a,{style:{margin:"4px 0"}}),r.a.createElement("div",{style:{display:"flex",flexWrap:"nowrap",padding:8,height:48}},r.a.createElement(E.a,{style:{flex:"auto"},value:j,placeholder:"Grocery",onChange:function(e){!function(e){l({buckets:Object(i.a)(k),newBucket:e.target.value})}(e)}}),r.a.createElement("a",{style:{flex:"none",padding:"8px",display:"block",cursor:"pointer"},onClick:function(){!function(){var e=[].concat(Object(i.a)(k),[j||"New item ".concat(k.length++)]);l({buckets:e,newBucket:""}),localStorage.setItem("buckets",JSON.stringify(e))}()}},"Add Category")))}},k.map((function(e){return r.a.createElement(w,{key:e,value:e},e)}))))),r.a.createElement(b.a,{xs:24,sm:24,md:10,lg:14,xl:16},r.a.createElement(m.a.Item,null,r.a.createElement(E.a,{placeholder:"What needs to be done?",type:"text",value:x,onChange:function(e){var t;t=e.target.value,h(Object(u.a)(Object(u.a)({},y),{},{title:t}))}}),r.a.createElement("span",{className:"".concat(S?"error":"no-error")},"*This field is required"))),r.a.createElement(b.a,{xs:24,sm:24,md:7,lg:5,xl:4},r.a.createElement(v.a,{type:"primary",htmlType:"submit",onClick:function(e){return N(e)},block:!0},"Remember this")))))})),C=a(47),S=a.n(C),_=a(329),N=a(164),B=a(73),R=s.a.Option;T.propTypes={updateTodo:S.a.func.isRequired,getTodoById:S.a.func.isRequired,clearTodoById:S.a.func.isRequired,todoReducer:S.a.object.isRequired};var D=Object(x.b)((function(e){return{todoReducer:e.todoReducer}}),{updateTodo:T,getTodoById:function(e){return function(){var t=Object(y.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.get("/get-todo/".concat(e));case 3:n=t.sent,a({type:"GET_TODO_BY_ID",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),j.b.error("Server Error");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},clearTodoById:function(){return function(){var e=Object(y.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_TODO_BY_ID",payload:""});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.updateTodo,a=e.getTodoById,c=e.clearTodoById,o=e.match,l=e.todoReducer,g=l.todoItem,O=l.editmode,y=l.loading,h=e.history,k=Object(n.useState)({buckets:JSON.parse(localStorage.getItem("buckets"))||["Important"],newBucket:""}),j=Object(d.a)(k,2),T=j[0],x=j[1],w=Object(n.useState)({bucket:"",title:"",completed:!1}),I=Object(d.a)(w,2),C=I[0],S=I[1];Object(n.useEffect)((function(){void 0===g[0]&&a(o.params.id),S({bucket:void 0!==g[0]?g[0].bucket:"",title:void 0!==g[0]?g[0].title:"",completed:void 0!==g[0]?g[0].completed:""})}),[O]);var D=T.buckets,A=T.newBucket,G=C.bucket,L=C.title,q=(C.completed,Object(n.useState)(!1)),J=Object(d.a)(q,2),W=J[0],U=J[1],Y=function(e){e.preventDefault(),(""===L?(U(!0),0):(U(!1),1))&&(t(o.params.id,C),c(),h.push("/"))};return r.a.createElement("div",null,y?r.a.createElement(_.b,null,r.a.createElement(N.a,null)):r.a.createElement(m.a,{layout:"horizontal",className:"todo-form",style:{marginTop:20,marginBottom:20,padding:5}},r.a.createElement(p.a,{gutter:20},r.a.createElement(b.a,{xs:24,sm:24,md:7,lg:5,xl:4},r.a.createElement(m.a.Item,null,r.a.createElement(s.a,{value:G,onChange:function(e){!function(e){S(Object(u.a)(Object(u.a)({},C),{},{bucket:e}))}(e)},placeholder:"Select a Category",dropdownRender:function(e){return r.a.createElement("div",null,e,r.a.createElement(f.a,{style:{margin:"4px 0"}}),r.a.createElement("div",{style:{display:"flex",flexWrap:"nowrap",padding:8,height:48}},r.a.createElement(E.a,{style:{flex:"auto"},value:A,placeholder:"Grocery",onChange:function(e){!function(e){x({buckets:Object(i.a)(D),newBucket:e.target.value})}(e)}}),r.a.createElement("a",{style:{flex:"none",padding:"8px",display:"block",cursor:"pointer"},onClick:function(){!function(){var e=[].concat(Object(i.a)(D),[A||"New item ".concat(D.length++)]);x({buckets:e,newBucket:""}),localStorage.setItem("buckets",JSON.stringify(e))}()}},"Add Category")))}},D.map((function(e){return r.a.createElement(R,{key:e,value:e},e)}))))),r.a.createElement(b.a,{xs:24,sm:24,md:10,lg:14,xl:16},r.a.createElement(m.a.Item,{initialValue:L,rules:[{required:!0,message:"This field is required"}]},r.a.createElement(E.a,{placeholder:"What needs to be done?",type:"text",value:L,onChange:function(e){var t;t=e.target.value,S(Object(u.a)(Object(u.a)({},C),{},{title:t}))}}),r.a.createElement("span",{className:"".concat(W?"error":"no-error")},"*This field is required"))),r.a.createElement(b.a,{xs:24,sm:24,md:4,lg:3,xl:2},r.a.createElement(v.a,{type:"primary",htmlType:"submit",onClick:function(e){return Y(e)},block:!0},"Update")),r.a.createElement(b.a,{xs:24,sm:24,md:3,lg:3,xl:2},r.a.createElement(B.b,{to:"/",onClick:c},"Cancel")))))})),A=a(326),G=a(174),L=a(330),q=a(331),J=a(332),W=a(333),U=a(334),Y=a(335),M=Object(x.b)(null,{removeTodo:function(e){return function(){var t=Object(y.a)(O.a.mark((function t(a){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k.a.delete("/delete-todo/".concat(e));case 3:n=t.sent,a({type:"GET_TODO",payload:n.data}),j.b.warn("Removed"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),j.b.error("Server Error");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},updateTodo:T,setLoadingTrue:function(){return function(){var e=Object(y.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"SET_LOADING_TRUE"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.id,a=e.bucket,c=e.title,o=e.completed,l=e.removeTodo,u=e.updateTodo,i=e.setLoadingTrue,s=Object(n.useState)(o),m=Object(d.a)(s,2),p=m[0],b=m[1];return r.a.createElement(A.b.Item,{actions:[r.a.createElement(G.a,{title:p?"Mark as uncompleted":"Mark as completed"},r.a.createElement(L.a,{checkedChildren:r.a.createElement(W.a,null),unCheckedChildren:r.a.createElement(U.a,null),onChange:function(){return b(!p),void u(t,{bucket:a,title:c,completed:!o})},defaultChecked:p})),r.a.createElement(q.a,{title:"Are you sure you want to delete?",onConfirm:function(){l(t)}},r.a.createElement(v.a,{className:"remove-todo-button",type:"primary",shape:"circle",danger:!0},"X")),r.a.createElement(v.a,{id:"edit",className:"remove-todo-button",type:"primary",shape:"circle"},r.a.createElement(B.b,{to:"/edit/".concat(t),onClick:function(){i()}},r.a.createElement(Y.a,null)))]},r.a.createElement("div",{className:"hide-sm"},r.a.createElement(J.a,{className:"todo-tag-bucket"},a)),r.a.createElement("div",{className:"todo-item"},r.a.createElement(J.a,{color:p?"cyan":"red",className:"".concat(o?"todo-tag todo-tag-completed ":"todo-tag")},c)))})),z=Object(x.b)((function(e){return{todoReducer:e.todoReducer}}),{getTodo:function(){return function(){var e=Object(y.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("/get-todo");case 3:a=e.sent,t({type:"GET_TODO",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),j.b.error("Server Error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.getTodo,a=e.todoReducer,c=a.todoList,o=a.editmode,l=a.loading;return Object(n.useEffect)((function(){0===c.length&&t()}),[t]),r.a.createElement("div",{className:"".concat(o?"focus-out":"")},r.a.createElement(A.b,{style:{backgroundColor:"white",padding:5,margin:5}},0!==c.length?c.map((function(e){return r.a.createElement(M,{key:e._id.$oid,id:e._id.$oid,title:e.title,completed:e.completed,bucket:e.bucket})})):l?r.a.createElement(_.b,null,r.a.createElement(N.a,null)):r.a.createElement("h4",null,"Nothing to do!")))})),F=a(170),P=a(61),$=a(171),V={todoList:[],todoItem:{},loading:!0,editmode:!1},X=Object(P.combineReducers)({todoReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_TODO":return Object(u.a)(Object(u.a)({},e),{},{todoList:n,loading:!1,editmode:!1});case"GET_TODO_BY_ID":return Object(u.a)(Object(u.a)({},e),{},{todoItem:n,loading:!1,editmode:!0});case"CLEAR_TODO_BY_ID":return Object(u.a)(Object(u.a)({},e),{},{todoItem:{},loading:!0,editmode:!1});case"SET_LOADING_TRUE":return Object(u.a)(Object(u.a)({},e),{},{loading:!0});default:return Object(u.a)({},e)}}}),H=[F.a],K=Object(P.createStore)(X,{},Object($.composeWithDevTools)(P.applyMiddleware.apply(void 0,H))),Q=a(20);var Z=function(){return r.a.createElement(x.a,{store:K},r.a.createElement("div",{className:"App"},r.a.createElement(l,{title:"TODO APPLICATION"}),r.a.createElement(B.a,null,r.a.createElement(Q.a,{exact:!0,path:"/",component:I}),r.a.createElement(Q.a,{exact:!0,path:"/edit/:id",component:D}),r.a.createElement(z,null))))};o.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,null)),document.getElementById("root"))},68:function(e,t,a){}},[[177,1,2]]]);
//# sourceMappingURL=main.8bfa3a1c.chunk.js.map